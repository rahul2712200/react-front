{"ast":null,"code":"import _classCallCheck from \"C:\\\\summer project\\\\react-front\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\summer project\\\\react-front\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\summer project\\\\react-front\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\summer project\\\\react-front\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\summer project\\\\react-front\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\summer project\\\\react-front\\\\src\\\\user\\\\DeleteUser.js\";\nimport React, { Component } from \"react\";\nimport { Redirect } from \"react-router-dom\";\nimport { isAuthenticated } from \"../auth\";\nimport { remove } from \"./apiUser\";\nimport { signout } from \"../auth\";\n\nvar DeleteUser =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(DeleteUser, _Component);\n\n  function DeleteUser() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, DeleteUser);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(DeleteUser)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      redirect: false\n    };\n\n    _this.deleteAccount = function () {\n      var token = isAuthenticated().token;\n      var userId = _this.props.userId;\n      remove(userId, token).then(function (data) {\n        if (data.error) {\n          console.log(data.error);\n        } else {\n          // signout user\n          signout(function () {\n            return console.log(\"User is deleted\");\n          }); // redirect\n\n          _this.setState({\n            redirect: true\n          });\n        }\n      });\n    };\n\n    _this.deleteConfirmed = function () {\n      var answer = window.confirm(\"Are you sure you want to delete your account?\");\n\n      if (answer) {\n        _this.deleteAccount();\n      }\n    };\n\n    return _this;\n  }\n\n  _createClass(DeleteUser, [{\n    key: \"render\",\n    value: function render() {\n      if (this.state.redirect) {\n        return React.createElement(Redirect, {\n          to: \"/\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 38\n          },\n          __self: this\n        });\n      }\n\n      return React.createElement(\"button\", {\n        onClick: this.deleteConfirmed,\n        className: \"btn btn-raised btn-danger\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41\n        },\n        __self: this\n      }, \"Delete Profile\");\n    }\n  }]);\n\n  return DeleteUser;\n}(Component);\n\nexport default DeleteUser;","map":{"version":3,"sources":["C:\\summer project\\react-front\\src\\user\\DeleteUser.js"],"names":["React","Component","Redirect","isAuthenticated","remove","signout","DeleteUser","state","redirect","deleteAccount","token","userId","props","then","data","error","console","log","setState","deleteConfirmed","answer","window","confirm"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,QAAT,QAAyB,kBAAzB;AACA,SAASC,eAAT,QAAgC,SAAhC;AACA,SAASC,MAAT,QAAuB,WAAvB;AACA,SAASC,OAAT,QAAwB,SAAxB;;IAEMC,U;;;;;;;;;;;;;;;;;UACFC,K,GAAQ;AACJC,MAAAA,QAAQ,EAAE;AADN,K;;UAIRC,a,GAAgB,YAAM;AAClB,UAAMC,KAAK,GAAGP,eAAe,GAAGO,KAAhC;AACA,UAAMC,MAAM,GAAG,MAAKC,KAAL,CAAWD,MAA1B;AACAP,MAAAA,MAAM,CAACO,MAAD,EAASD,KAAT,CAAN,CAAsBG,IAAtB,CAA2B,UAAAC,IAAI,EAAI;AAC/B,YAAIA,IAAI,CAACC,KAAT,EAAgB;AACZC,UAAAA,OAAO,CAACC,GAAR,CAAYH,IAAI,CAACC,KAAjB;AACH,SAFD,MAEO;AACH;AACAV,UAAAA,OAAO,CAAC;AAAA,mBAAMW,OAAO,CAACC,GAAR,CAAY,iBAAZ,CAAN;AAAA,WAAD,CAAP,CAFG,CAGH;;AACA,gBAAKC,QAAL,CAAc;AAAEV,YAAAA,QAAQ,EAAE;AAAZ,WAAd;AACH;AACJ,OATD;AAUH,K;;UAEDW,e,GAAkB,YAAM;AACpB,UAAIC,MAAM,GAAGC,MAAM,CAACC,OAAP,CACT,+CADS,CAAb;;AAGA,UAAIF,MAAJ,EAAY;AACR,cAAKX,aAAL;AACH;AACJ,K;;;;;;;6BAEQ;AACL,UAAI,KAAKF,KAAL,CAAWC,QAAf,EAAyB;AACrB,eAAO,oBAAC,QAAD;AAAU,UAAA,EAAE,EAAC,GAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAP;AACH;;AACD,aACI;AACI,QAAA,OAAO,EAAE,KAAKW,eADlB;AAEI,QAAA,SAAS,EAAC,2BAFd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BADJ;AAQH;;;;EAzCoBlB,S;;AA4CzB,eAAeK,UAAf","sourcesContent":["import React, { Component } from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { isAuthenticated } from \"../auth\";\r\nimport { remove } from \"./apiUser\";\r\nimport { signout } from \"../auth\";\r\n\r\nclass DeleteUser extends Component {\r\n    state = {\r\n        redirect: false\r\n    };\r\n\r\n    deleteAccount = () => {\r\n        const token = isAuthenticated().token;\r\n        const userId = this.props.userId;\r\n        remove(userId, token).then(data => {\r\n            if (data.error) {\r\n                console.log(data.error);\r\n            } else {\r\n                // signout user\r\n                signout(() => console.log(\"User is deleted\"));\r\n                // redirect\r\n                this.setState({ redirect: true });\r\n            }\r\n        });\r\n    };\r\n\r\n    deleteConfirmed = () => {\r\n        let answer = window.confirm(\r\n            \"Are you sure you want to delete your account?\"\r\n        );\r\n        if (answer) {\r\n            this.deleteAccount();\r\n        }\r\n    };\r\n\r\n    render() {\r\n        if (this.state.redirect) {\r\n            return <Redirect to=\"/\" />;\r\n        }\r\n        return (\r\n            <button\r\n                onClick={this.deleteConfirmed}\r\n                className=\"btn btn-raised btn-danger\"\r\n            >\r\n                Delete Profile\r\n            </button>\r\n        );\r\n    }\r\n}\r\n\r\nexport default DeleteUser;\r\n"]},"metadata":{},"sourceType":"module"}